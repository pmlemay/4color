{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dev\\\\Personal\\\\Apps\\\\4color\\\\src\\\\App.js\";\nimport React from 'react';\nimport clone from \"clone\";\nimport PropTypes from \"prop-types\";\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [{\n        squares: Array(9).fill(null)\n      }],\n      stepNumber: 0\n    };\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n    squares[i] = this.state.xIsNext ? \"X\" : \"O\";\n    this.setState({\n      history: history.concat([{\n        squares: squares\n      }]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext\n    });\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    return React.createElement(\"div\", {\n      className: \"game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"game-board\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(Board, {\n      squares: current.squares,\n      onClick: i => this.handleClick(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"game-controls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }));\n  }\n\n}\n\nfunction Square(props) {\n  return React.createElement(\"input\", {\n    className: \"square\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  });\n}\n\nclass TableDragSelect extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectionStarted: false,\n      startRow: null,\n      startColumn: null,\n      endRow: null,\n      endColumn: null,\n      addMode: null\n    };\n\n    this.componentDidMount = () => {\n      window.addEventListener(\"mouseup\", this.handleTouchEndWindow);\n      window.addEventListener(\"touchend\", this.handleTouchEndWindow);\n    };\n\n    this.componentWillUnmount = () => {\n      window.removeEventListener(\"mouseup\", this.handleTouchEndWindow);\n      window.removeEventListener(\"touchend\", this.handleTouchEndWindow);\n    };\n\n    this.render = () => {\n      return React.createElement(\"table\", {\n        className: \"table-drag-select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, this.renderRows()));\n    };\n\n    this.renderRows = () => React.Children.map(this.props.children, (tr, i) => {\n      return React.createElement(\"tr\", Object.assign({\n        key: i\n      }, tr.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.Children.map(tr.props.children, (cell, j) => React.createElement(Cell, Object.assign({\n        key: j,\n        onTouchStart: this.handleTouchStartCell,\n        onTouchMove: this.handleTouchMoveCell,\n        selected: this.props.value[i][j],\n        beingSelected: this.isCellBeingSelected(i, j)\n      }, cell.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), cell.props.children)));\n    });\n\n    this.handleTouchStartCell = e => {\n      const isLeftClick = e.button === 0;\n      const isTouch = e.type !== \"mousedown\";\n\n      if (!this.state.selectionStarted && (isLeftClick || isTouch)) {\n        e.preventDefault();\n        const {\n          row,\n          column\n        } = eventToCellLocation(e);\n        this.props.onSelectionStart({\n          row,\n          column\n        });\n        this.setState({\n          selectionStarted: true,\n          startRow: row,\n          startColumn: column,\n          endRow: row,\n          endColumn: column,\n          addMode: !this.props.value[row][column]\n        });\n      }\n    };\n\n    this.handleTouchMoveCell = e => {\n      if (this.state.selectionStarted) {\n        e.preventDefault();\n        const {\n          row,\n          column\n        } = eventToCellLocation(e);\n        const {\n          startRow,\n          startColumn,\n          endRow,\n          endColumn\n        } = this.state;\n\n        if (endRow !== row || endColumn !== column) {\n          const nextRowCount = startRow === null && endRow === null ? 0 : Math.abs(row - startRow) + 1;\n          const nextColumnCount = startColumn === null && endColumn === null ? 0 : Math.abs(column - startColumn) + 1;\n\n          if (nextRowCount <= this.props.maxRows) {\n            this.setState({\n              endRow: row\n            });\n          }\n\n          if (nextColumnCount <= this.props.maxColumns) {\n            this.setState({\n              endColumn: column\n            });\n          }\n        }\n      }\n    };\n\n    this.handleTouchEndWindow = e => {\n      const isLeftClick = e.button === 0;\n      const isTouch = e.type !== \"mousedown\";\n\n      if (this.state.selectionStarted && (isLeftClick || isTouch)) {\n        const value = clone(this.props.value);\n        const minRow = Math.min(this.state.startRow, this.state.endRow);\n        const maxRow = Math.max(this.state.startRow, this.state.endRow);\n\n        for (let row = minRow; row <= maxRow; row++) {\n          const minColumn = Math.min(this.state.startColumn, this.state.endColumn);\n          const maxColumn = Math.max(this.state.startColumn, this.state.endColumn);\n\n          for (let column = minColumn; column <= maxColumn; column++) {\n            value[row][column] = this.state.addMode;\n          }\n        }\n\n        this.setState({\n          selectionStarted: false\n        });\n        this.props.onChange(value);\n      }\n    };\n\n    this.isCellBeingSelected = (row, column) => {\n      const minRow = Math.min(this.state.startRow, this.state.endRow);\n      const maxRow = Math.max(this.state.startRow, this.state.endRow);\n      const minColumn = Math.min(this.state.startColumn, this.state.endColumn);\n      const maxColumn = Math.max(this.state.startColumn, this.state.endColumn);\n      return this.state.selectionStarted && row >= minRow && row <= maxRow && column >= minColumn && column <= maxColumn;\n    };\n  }\n\n}\n\nTableDragSelect.propTypes = {\n  value: props => {\n    const error = new Error(\"Invalid prop `value` supplied to `TableDragSelect`. Validation failed.\");\n\n    if (!Array.isArray(props.value)) {\n      return error;\n    }\n\n    if (props.value.length === 0) {\n      return;\n    }\n\n    const columnCount = props.value[0].length;\n\n    for (const row of props.value) {\n      if (!Array.isArray(row) || row.length !== columnCount) {\n        return error;\n      }\n\n      for (const cell of row) {\n        if (typeof cell !== \"boolean\") {\n          return error;\n        }\n      }\n    }\n  },\n  maxRows: PropTypes.number,\n  maxColumns: PropTypes.number,\n  onSelectionStart: PropTypes.func,\n  onInput: PropTypes.func,\n  onChange: PropTypes.func,\n  children: props => {\n    if (TableDragSelect.propTypes.value(props)) {\n      return; // Let error be handled elsewhere\n    }\n\n    const error = new Error(\"Invalid prop `children` supplied to `TableDragSelect`. Validation failed.\");\n    const trs = React.Children.toArray(props.children);\n    const rowCount = props.value.length;\n    const columnCount = props.value.length === 0 ? 0 : props.value[0].length;\n\n    if (trs.length !== rowCount) {\n      return error;\n    }\n\n    for (const tr of trs) {\n      const tds = React.Children.toArray(tr.props.children);\n\n      if (tr.type !== \"tr\" || tds.length !== columnCount) {\n        return error;\n      }\n\n      for (const td of tds) {\n        if (td.type !== \"td\") {\n          return error;\n        }\n      }\n    }\n  }\n};\nTableDragSelect.defaultProps = {\n  value: [],\n  maxRows: Infinity,\n  maxColumns: Infinity,\n  onSelectionStart: () => {},\n  onInput: () => {},\n  onChange: () => {}\n};\n\nclass Cell extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.shouldComponentUpdate = nextProps => this.props.beingSelected !== nextProps.beingSelected || this.props.selected !== nextProps.selected;\n\n    this.componentDidMount = () => {\n      // We need to call addEventListener ourselves so that we can pass\n      // {passive: false}\n      this.td.addEventListener(\"touchstart\", this.handleTouchStart, {\n        passive: false\n      });\n      this.td.addEventListener(\"touchmove\", this.handleTouchMove, {\n        passive: false\n      });\n    };\n\n    this.componentWillUnmount = () => {\n      this.td.removeEventListener(\"touchstart\", this.handleTouchStart);\n      this.td.removeEventListener(\"touchmove\", this.handleTouchMove);\n    };\n\n    this.render = () => {\n      let {\n        className = \"\",\n        disabled,\n        beingSelected,\n        selected,\n        onTouchStart,\n        onTouchMove,\n        ...props\n      } = this.props;\n\n      if (disabled) {\n        className += \" cell-disabled\";\n      } else {\n        className += \" cell-enabled\";\n\n        if (selected) {\n          className += \" cell-selected\";\n        }\n\n        if (beingSelected) {\n          className += \" cell-being-selected\";\n        }\n      }\n\n      return React.createElement(\"td\", Object.assign({\n        ref: td => this.td = td,\n        className: className,\n        onMouseDown: this.handleTouchStart,\n        onMouseMove: this.handleTouchMove\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }), this.props.children || React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, \"\\xA0\"));\n    };\n\n    this.handleTouchStart = e => {\n      if (!this.props.disabled) {\n        this.props.onTouchStart(e);\n      }\n    };\n\n    this.handleTouchMove = e => {\n      if (!this.props.disabled) {\n        this.props.onTouchMove(e);\n      }\n    };\n  }\n\n} // Takes a mouse or touch event and returns the corresponding row and cell.\n// Example:\n//\n// eventToCellLocation(event);\n// {row: 2, column: 3}\n\n\nconst eventToCellLocation = e => {\n  let target; // For touchmove and touchend events, e.target and e.touches[n].target are\n  // wrong, so we have to rely on elementFromPoint(). For mouse clicks, we have\n  // to use e.target.\n\n  if (e.touches) {\n    const touch = e.touches[0];\n    target = document.elementFromPoint(touch.clientX, touch.clientY);\n  } else {\n    target = e.target;\n\n    while (target.tagName !== \"TD\") {\n      target = target.parentNode;\n    }\n  }\n\n  return {\n    row: target.parentNode.rowIndex,\n    column: target.cellIndex\n  };\n};\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.render = () => React.createElement(TableDragSelect, {\n      value: this.state.cells,\n      onChange: cells => this.setState({\n        cells\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439\n      },\n      __self: this\n    })));\n\n    this.state = {\n      cells: Array(225).fill(false)\n    };\n  } // state = {\n  //   cells: [\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false]\n  //   ]\n  // };\n\n\n  renderSquare(i) {\n    return React.createElement(Square, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/Dev/Personal/Apps/4color/src/App.js"],"names":["React","clone","PropTypes","App","Component","constructor","props","state","history","squares","Array","fill","stepNumber","handleClick","i","slice","current","length","xIsNext","setState","concat","render","Square","TableDragSelect","selectionStarted","startRow","startColumn","endRow","endColumn","addMode","componentDidMount","window","addEventListener","handleTouchEndWindow","componentWillUnmount","removeEventListener","renderRows","Children","map","children","tr","cell","j","handleTouchStartCell","handleTouchMoveCell","value","isCellBeingSelected","e","isLeftClick","button","isTouch","type","preventDefault","row","column","eventToCellLocation","onSelectionStart","nextRowCount","Math","abs","nextColumnCount","maxRows","maxColumns","minRow","min","maxRow","max","minColumn","maxColumn","onChange","propTypes","error","Error","isArray","columnCount","number","func","onInput","trs","toArray","rowCount","tds","td","defaultProps","Infinity","Cell","shouldComponentUpdate","nextProps","beingSelected","selected","handleTouchStart","passive","handleTouchMove","className","disabled","onTouchStart","onTouchMove","target","touches","touch","document","elementFromPoint","clientX","clientY","tagName","parentNode","rowIndex","cellIndex","Board","cells","renderSquare"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,WAAP;;AAEA,MAAMC,GAAN,SAAkBH,KAAK,CAACI,SAAxB,CAAkC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,CACP;AACEC,QAAAA,OAAO,EAAEC,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,IAAd;AADX,OADO,CADE;AAMXC,MAAAA,UAAU,EAAE;AAND,KAAb;AAQD;;AAEDC,EAAAA,WAAW,CAACC,CAAD,EAAI;AACb,UAAMN,OAAO,GAAG,KAAKD,KAAL,CAAWC,OAAX,CAAmBO,KAAnB,CAAyB,CAAzB,EAA4B,KAAKR,KAAL,CAAWK,UAAX,GAAwB,CAApD,CAAhB;AACA,UAAMI,OAAO,GAAGR,OAAO,CAACA,OAAO,CAACS,MAAR,GAAiB,CAAlB,CAAvB;AACA,UAAMR,OAAO,GAAGO,OAAO,CAACP,OAAR,CAAgBM,KAAhB,EAAhB;AACAN,IAAAA,OAAO,CAACK,CAAD,CAAP,GAAa,KAAKP,KAAL,CAAWW,OAAX,GAAqB,GAArB,GAA2B,GAAxC;AACA,SAAKC,QAAL,CAAc;AACZX,MAAAA,OAAO,EAAEA,OAAO,CAACY,MAAR,CAAe,CACtB;AACEX,QAAAA,OAAO,EAAEA;AADX,OADsB,CAAf,CADG;AAMZG,MAAAA,UAAU,EAAEJ,OAAO,CAACS,MANR;AAOZC,MAAAA,OAAO,EAAE,CAAC,KAAKX,KAAL,CAAWW;AAPT,KAAd;AASD;;AAEDG,EAAAA,MAAM,GAAG;AACP,UAAMb,OAAO,GAAG,KAAKD,KAAL,CAAWC,OAA3B;AACA,UAAMQ,OAAO,GAAGR,OAAO,CAAC,KAAKD,KAAL,CAAWK,UAAZ,CAAvB;AAEA,WACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,OAAO,EAAEI,OAAO,CAACP,OADnB;AAEE,MAAA,OAAO,EAAEK,CAAC,IAAI,KAAKD,WAAL,CAAiBC,CAAjB,CAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAOE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF;AAYD;;AA7C+B;;AAgDlC,SAASQ,MAAT,CAAgBhB,KAAhB,EAAuB;AACrB,SACE;AAAO,IAAA,SAAS,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAID;;AAED,MAAMiB,eAAN,SAA8BvB,KAAK,CAACI,SAApC,CAA8C;AAAA;AAAA;AAAA,SAiE5CG,KAjE4C,GAiEpC;AACNiB,MAAAA,gBAAgB,EAAE,KADZ;AAENC,MAAAA,QAAQ,EAAE,IAFJ;AAGNC,MAAAA,WAAW,EAAE,IAHP;AAINC,MAAAA,MAAM,EAAE,IAJF;AAKNC,MAAAA,SAAS,EAAE,IALL;AAMNC,MAAAA,OAAO,EAAE;AANH,KAjEoC;;AAAA,SA0E5CC,iBA1E4C,GA0ExB,MAAM;AACxBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKC,oBAAxC;AACAF,MAAAA,MAAM,CAACC,gBAAP,CAAwB,UAAxB,EAAoC,KAAKC,oBAAzC;AACD,KA7E2C;;AAAA,SA+E5CC,oBA/E4C,GA+ErB,MAAM;AAC3BH,MAAAA,MAAM,CAACI,mBAAP,CAA2B,SAA3B,EAAsC,KAAKF,oBAA3C;AACAF,MAAAA,MAAM,CAACI,mBAAP,CAA2B,UAA3B,EAAuC,KAAKF,oBAA5C;AACD,KAlF2C;;AAAA,SAoF5CZ,MApF4C,GAoFnC,MAAM;AACb,aACE;AAAO,QAAA,SAAS,EAAC,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQ,KAAKe,UAAL,EAAR,CADF,CADF;AAKD,KA1F2C;;AAAA,SA4F5CA,UA5F4C,GA4F/B,MACXpC,KAAK,CAACqC,QAAN,CAAeC,GAAf,CAAmB,KAAKhC,KAAL,CAAWiC,QAA9B,EAAwC,CAACC,EAAD,EAAK1B,CAAL,KAAW;AACjD,aACE;AAAI,QAAA,GAAG,EAAEA;AAAT,SAAgB0B,EAAE,CAAClC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACGN,KAAK,CAACqC,QAAN,CAAeC,GAAf,CAAmBE,EAAE,CAAClC,KAAH,CAASiC,QAA5B,EAAsC,CAACE,IAAD,EAAOC,CAAP,KACrC,oBAAC,IAAD;AACE,QAAA,GAAG,EAAEA,CADP;AAEE,QAAA,YAAY,EAAE,KAAKC,oBAFrB;AAGE,QAAA,WAAW,EAAE,KAAKC,mBAHpB;AAIE,QAAA,QAAQ,EAAE,KAAKtC,KAAL,CAAWuC,KAAX,CAAiB/B,CAAjB,EAAoB4B,CAApB,CAJZ;AAKE,QAAA,aAAa,EAAE,KAAKI,mBAAL,CAAyBhC,CAAzB,EAA4B4B,CAA5B;AALjB,SAMMD,IAAI,CAACnC,KANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAQGmC,IAAI,CAACnC,KAAL,CAAWiC,QARd,CADD,CADH,CADF;AAgBD,KAjBD,CA7F0C;;AAAA,SAgH5CI,oBAhH4C,GAgHrBI,CAAC,IAAI;AAC1B,YAAMC,WAAW,GAAGD,CAAC,CAACE,MAAF,KAAa,CAAjC;AACA,YAAMC,OAAO,GAAGH,CAAC,CAACI,IAAF,KAAW,WAA3B;;AACA,UAAI,CAAC,KAAK5C,KAAL,CAAWiB,gBAAZ,KAAiCwB,WAAW,IAAIE,OAAhD,CAAJ,EAA8D;AAC5DH,QAAAA,CAAC,CAACK,cAAF;AACA,cAAM;AAAEC,UAAAA,GAAF;AAAOC,UAAAA;AAAP,YAAkBC,mBAAmB,CAACR,CAAD,CAA3C;AACA,aAAKzC,KAAL,CAAWkD,gBAAX,CAA4B;AAAEH,UAAAA,GAAF;AAAOC,UAAAA;AAAP,SAA5B;AACA,aAAKnC,QAAL,CAAc;AACZK,UAAAA,gBAAgB,EAAE,IADN;AAEZC,UAAAA,QAAQ,EAAE4B,GAFE;AAGZ3B,UAAAA,WAAW,EAAE4B,MAHD;AAIZ3B,UAAAA,MAAM,EAAE0B,GAJI;AAKZzB,UAAAA,SAAS,EAAE0B,MALC;AAMZzB,UAAAA,OAAO,EAAE,CAAC,KAAKvB,KAAL,CAAWuC,KAAX,CAAiBQ,GAAjB,EAAsBC,MAAtB;AANE,SAAd;AAQD;AACF,KAhI2C;;AAAA,SAkI5CV,mBAlI4C,GAkItBG,CAAC,IAAI;AACzB,UAAI,KAAKxC,KAAL,CAAWiB,gBAAf,EAAiC;AAC/BuB,QAAAA,CAAC,CAACK,cAAF;AACA,cAAM;AAAEC,UAAAA,GAAF;AAAOC,UAAAA;AAAP,YAAkBC,mBAAmB,CAACR,CAAD,CAA3C;AACA,cAAM;AAAEtB,UAAAA,QAAF;AAAYC,UAAAA,WAAZ;AAAyBC,UAAAA,MAAzB;AAAiCC,UAAAA;AAAjC,YAA+C,KAAKrB,KAA1D;;AAEA,YAAIoB,MAAM,KAAK0B,GAAX,IAAkBzB,SAAS,KAAK0B,MAApC,EAA4C;AAC1C,gBAAMG,YAAY,GAChBhC,QAAQ,KAAK,IAAb,IAAqBE,MAAM,KAAK,IAAhC,GACI,CADJ,GAEI+B,IAAI,CAACC,GAAL,CAASN,GAAG,GAAG5B,QAAf,IAA2B,CAHjC;AAIA,gBAAMmC,eAAe,GACnBlC,WAAW,KAAK,IAAhB,IAAwBE,SAAS,KAAK,IAAtC,GACI,CADJ,GAEI8B,IAAI,CAACC,GAAL,CAASL,MAAM,GAAG5B,WAAlB,IAAiC,CAHvC;;AAKA,cAAI+B,YAAY,IAAI,KAAKnD,KAAL,CAAWuD,OAA/B,EAAwC;AACtC,iBAAK1C,QAAL,CAAc;AAAEQ,cAAAA,MAAM,EAAE0B;AAAV,aAAd;AACD;;AAED,cAAIO,eAAe,IAAI,KAAKtD,KAAL,CAAWwD,UAAlC,EAA8C;AAC5C,iBAAK3C,QAAL,CAAc;AAAES,cAAAA,SAAS,EAAE0B;AAAb,aAAd;AACD;AACF;AACF;AACF,KA3J2C;;AAAA,SA6J5CrB,oBA7J4C,GA6JrBc,CAAC,IAAI;AAC1B,YAAMC,WAAW,GAAGD,CAAC,CAACE,MAAF,KAAa,CAAjC;AACA,YAAMC,OAAO,GAAGH,CAAC,CAACI,IAAF,KAAW,WAA3B;;AACA,UAAI,KAAK5C,KAAL,CAAWiB,gBAAX,KAAgCwB,WAAW,IAAIE,OAA/C,CAAJ,EAA6D;AAC3D,cAAML,KAAK,GAAG5C,KAAK,CAAC,KAAKK,KAAL,CAAWuC,KAAZ,CAAnB;AACA,cAAMkB,MAAM,GAAGL,IAAI,CAACM,GAAL,CAAS,KAAKzD,KAAL,CAAWkB,QAApB,EAA8B,KAAKlB,KAAL,CAAWoB,MAAzC,CAAf;AACA,cAAMsC,MAAM,GAAGP,IAAI,CAACQ,GAAL,CAAS,KAAK3D,KAAL,CAAWkB,QAApB,EAA8B,KAAKlB,KAAL,CAAWoB,MAAzC,CAAf;;AACA,aAAK,IAAI0B,GAAG,GAAGU,MAAf,EAAuBV,GAAG,IAAIY,MAA9B,EAAsCZ,GAAG,EAAzC,EAA6C;AAC3C,gBAAMc,SAAS,GAAGT,IAAI,CAACM,GAAL,CAChB,KAAKzD,KAAL,CAAWmB,WADK,EAEhB,KAAKnB,KAAL,CAAWqB,SAFK,CAAlB;AAIA,gBAAMwC,SAAS,GAAGV,IAAI,CAACQ,GAAL,CAChB,KAAK3D,KAAL,CAAWmB,WADK,EAEhB,KAAKnB,KAAL,CAAWqB,SAFK,CAAlB;;AAIA,eAAK,IAAI0B,MAAM,GAAGa,SAAlB,EAA6Bb,MAAM,IAAIc,SAAvC,EAAkDd,MAAM,EAAxD,EAA4D;AAC1DT,YAAAA,KAAK,CAACQ,GAAD,CAAL,CAAWC,MAAX,IAAqB,KAAK/C,KAAL,CAAWsB,OAAhC;AACD;AACF;;AACD,aAAKV,QAAL,CAAc;AAAEK,UAAAA,gBAAgB,EAAE;AAApB,SAAd;AACA,aAAKlB,KAAL,CAAW+D,QAAX,CAAoBxB,KAApB;AACD;AACF,KApL2C;;AAAA,SAsL5CC,mBAtL4C,GAsLtB,CAACO,GAAD,EAAMC,MAAN,KAAiB;AACrC,YAAMS,MAAM,GAAGL,IAAI,CAACM,GAAL,CAAS,KAAKzD,KAAL,CAAWkB,QAApB,EAA8B,KAAKlB,KAAL,CAAWoB,MAAzC,CAAf;AACA,YAAMsC,MAAM,GAAGP,IAAI,CAACQ,GAAL,CAAS,KAAK3D,KAAL,CAAWkB,QAApB,EAA8B,KAAKlB,KAAL,CAAWoB,MAAzC,CAAf;AACA,YAAMwC,SAAS,GAAGT,IAAI,CAACM,GAAL,CAAS,KAAKzD,KAAL,CAAWmB,WAApB,EAAiC,KAAKnB,KAAL,CAAWqB,SAA5C,CAAlB;AACA,YAAMwC,SAAS,GAAGV,IAAI,CAACQ,GAAL,CAAS,KAAK3D,KAAL,CAAWmB,WAApB,EAAiC,KAAKnB,KAAL,CAAWqB,SAA5C,CAAlB;AAEA,aACE,KAAKrB,KAAL,CAAWiB,gBAAX,IACC6B,GAAG,IAAIU,MAAP,IACCV,GAAG,IAAIY,MADR,IAECX,MAAM,IAAIa,SAFX,IAGCb,MAAM,IAAIc,SALd;AAOD,KAnM2C;AAAA;;AAAA;;AAAxC7C,e,CACG+C,S,GAAY;AACjBzB,EAAAA,KAAK,EAAEvC,KAAK,IAAI;AACd,UAAMiE,KAAK,GAAG,IAAIC,KAAJ,CACZ,wEADY,CAAd;;AAGA,QAAI,CAAC9D,KAAK,CAAC+D,OAAN,CAAcnE,KAAK,CAACuC,KAApB,CAAL,EAAiC;AAC/B,aAAO0B,KAAP;AACD;;AACD,QAAIjE,KAAK,CAACuC,KAAN,CAAY5B,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B;AACD;;AACD,UAAMyD,WAAW,GAAGpE,KAAK,CAACuC,KAAN,CAAY,CAAZ,EAAe5B,MAAnC;;AACA,SAAK,MAAMoC,GAAX,IAAkB/C,KAAK,CAACuC,KAAxB,EAA+B;AAC7B,UAAI,CAACnC,KAAK,CAAC+D,OAAN,CAAcpB,GAAd,CAAD,IAAuBA,GAAG,CAACpC,MAAJ,KAAeyD,WAA1C,EAAuD;AACrD,eAAOH,KAAP;AACD;;AACD,WAAK,MAAM9B,IAAX,IAAmBY,GAAnB,EAAwB;AACtB,YAAI,OAAOZ,IAAP,KAAgB,SAApB,EAA+B;AAC7B,iBAAO8B,KAAP;AACD;AACF;AACF;AACF,GAtBgB;AAuBjBV,EAAAA,OAAO,EAAE3D,SAAS,CAACyE,MAvBF;AAwBjBb,EAAAA,UAAU,EAAE5D,SAAS,CAACyE,MAxBL;AAyBjBnB,EAAAA,gBAAgB,EAAEtD,SAAS,CAAC0E,IAzBX;AA0BjBC,EAAAA,OAAO,EAAE3E,SAAS,CAAC0E,IA1BF;AA2BjBP,EAAAA,QAAQ,EAAEnE,SAAS,CAAC0E,IA3BH;AA4BjBrC,EAAAA,QAAQ,EAAEjC,KAAK,IAAI;AACjB,QAAIiB,eAAe,CAAC+C,SAAhB,CAA0BzB,KAA1B,CAAgCvC,KAAhC,CAAJ,EAA4C;AAC1C,aAD0C,CAClC;AACT;;AACD,UAAMiE,KAAK,GAAG,IAAIC,KAAJ,CACZ,2EADY,CAAd;AAGA,UAAMM,GAAG,GAAG9E,KAAK,CAACqC,QAAN,CAAe0C,OAAf,CAAuBzE,KAAK,CAACiC,QAA7B,CAAZ;AACA,UAAMyC,QAAQ,GAAG1E,KAAK,CAACuC,KAAN,CAAY5B,MAA7B;AACA,UAAMyD,WAAW,GAAGpE,KAAK,CAACuC,KAAN,CAAY5B,MAAZ,KAAuB,CAAvB,GAA2B,CAA3B,GAA+BX,KAAK,CAACuC,KAAN,CAAY,CAAZ,EAAe5B,MAAlE;;AACA,QAAI6D,GAAG,CAAC7D,MAAJ,KAAe+D,QAAnB,EAA6B;AAC3B,aAAOT,KAAP;AACD;;AACD,SAAK,MAAM/B,EAAX,IAAiBsC,GAAjB,EAAsB;AACpB,YAAMG,GAAG,GAAGjF,KAAK,CAACqC,QAAN,CAAe0C,OAAf,CAAuBvC,EAAE,CAAClC,KAAH,CAASiC,QAAhC,CAAZ;;AACA,UAAIC,EAAE,CAACW,IAAH,KAAY,IAAZ,IAAoB8B,GAAG,CAAChE,MAAJ,KAAeyD,WAAvC,EAAoD;AAClD,eAAOH,KAAP;AACD;;AACD,WAAK,MAAMW,EAAX,IAAiBD,GAAjB,EAAsB;AACpB,YAAIC,EAAE,CAAC/B,IAAH,KAAY,IAAhB,EAAsB;AACpB,iBAAOoB,KAAP;AACD;AACF;AACF;AACF;AApDgB,C;AADfhD,e,CAwDG4D,Y,GAAe;AACpBtC,EAAAA,KAAK,EAAE,EADa;AAEpBgB,EAAAA,OAAO,EAAEuB,QAFW;AAGpBtB,EAAAA,UAAU,EAAEsB,QAHQ;AAIpB5B,EAAAA,gBAAgB,EAAE,MAAM,CAAE,CAJN;AAKpBqB,EAAAA,OAAO,EAAE,MAAM,CAAE,CALG;AAMpBR,EAAAA,QAAQ,EAAE,MAAM,CAAE;AANE,C;;AA8IxB,MAAMgB,IAAN,SAAmBrF,KAAK,CAACI,SAAzB,CAAmC;AAAA;AAAA;;AAAA,SAGjCkF,qBAHiC,GAGTC,SAAS,IAC/B,KAAKjF,KAAL,CAAWkF,aAAX,KAA6BD,SAAS,CAACC,aAAvC,IACA,KAAKlF,KAAL,CAAWmF,QAAX,KAAwBF,SAAS,CAACE,QALH;;AAAA,SAOjC3D,iBAPiC,GAOb,MAAM;AACxB;AACA;AACA,WAAKoD,EAAL,CAAQlD,gBAAR,CAAyB,YAAzB,EAAuC,KAAK0D,gBAA5C,EAA8D;AAC5DC,QAAAA,OAAO,EAAE;AADmD,OAA9D;AAGA,WAAKT,EAAL,CAAQlD,gBAAR,CAAyB,WAAzB,EAAsC,KAAK4D,eAA3C,EAA4D;AAC1DD,QAAAA,OAAO,EAAE;AADiD,OAA5D;AAGD,KAhBgC;;AAAA,SAkBjCzD,oBAlBiC,GAkBV,MAAM;AAC3B,WAAKgD,EAAL,CAAQ/C,mBAAR,CAA4B,YAA5B,EAA0C,KAAKuD,gBAA/C;AACA,WAAKR,EAAL,CAAQ/C,mBAAR,CAA4B,WAA5B,EAAyC,KAAKyD,eAA9C;AACD,KArBgC;;AAAA,SAuBjCvE,MAvBiC,GAuBxB,MAAM;AACb,UAAI;AACFwE,QAAAA,SAAS,GAAG,EADV;AAEFC,QAAAA,QAFE;AAGFN,QAAAA,aAHE;AAIFC,QAAAA,QAJE;AAKFM,QAAAA,YALE;AAMFC,QAAAA,WANE;AAOF,WAAG1F;AAPD,UAQA,KAAKA,KART;;AASA,UAAIwF,QAAJ,EAAc;AACZD,QAAAA,SAAS,IAAI,gBAAb;AACD,OAFD,MAEO;AACLA,QAAAA,SAAS,IAAI,eAAb;;AACA,YAAIJ,QAAJ,EAAc;AACZI,UAAAA,SAAS,IAAI,gBAAb;AACD;;AACD,YAAIL,aAAJ,EAAmB;AACjBK,UAAAA,SAAS,IAAI,sBAAb;AACD;AACF;;AACD,aACE;AACE,QAAA,GAAG,EAAEX,EAAE,IAAK,KAAKA,EAAL,GAAUA,EADxB;AAEE,QAAA,SAAS,EAAEW,SAFb;AAGE,QAAA,WAAW,EAAE,KAAKH,gBAHpB;AAIE,QAAA,WAAW,EAAE,KAAKE;AAJpB,SAKMtF,KALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAOG,KAAKA,KAAL,CAAWiC,QAAX,IAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAP1B,CADF;AAWD,KAvDgC;;AAAA,SAyDjCmD,gBAzDiC,GAyDd3C,CAAC,IAAI;AACtB,UAAI,CAAC,KAAKzC,KAAL,CAAWwF,QAAhB,EAA0B;AACxB,aAAKxF,KAAL,CAAWyF,YAAX,CAAwBhD,CAAxB;AACD;AACF,KA7DgC;;AAAA,SA+DjC6C,eA/DiC,GA+Df7C,CAAC,IAAI;AACrB,UAAI,CAAC,KAAKzC,KAAL,CAAWwF,QAAhB,EAA0B;AACxB,aAAKxF,KAAL,CAAW0F,WAAX,CAAuBjD,CAAvB;AACD;AACF,KAnEgC;AAAA;;AAAA,C,CAsEnC;AACA;AACA;AACA;AACA;;;AACA,MAAMQ,mBAAmB,GAAGR,CAAC,IAAI;AAC/B,MAAIkD,MAAJ,CAD+B,CAE/B;AACA;AACA;;AACA,MAAIlD,CAAC,CAACmD,OAAN,EAAe;AACb,UAAMC,KAAK,GAAGpD,CAAC,CAACmD,OAAF,CAAU,CAAV,CAAd;AACAD,IAAAA,MAAM,GAAGG,QAAQ,CAACC,gBAAT,CAA0BF,KAAK,CAACG,OAAhC,EAAyCH,KAAK,CAACI,OAA/C,CAAT;AACD,GAHD,MAGO;AACLN,IAAAA,MAAM,GAAGlD,CAAC,CAACkD,MAAX;;AACA,WAAOA,MAAM,CAACO,OAAP,KAAmB,IAA1B,EAAgC;AAC9BP,MAAAA,MAAM,GAAGA,MAAM,CAACQ,UAAhB;AACD;AACF;;AACD,SAAO;AACLpD,IAAAA,GAAG,EAAE4C,MAAM,CAACQ,UAAP,CAAkBC,QADlB;AAELpD,IAAAA,MAAM,EAAE2C,MAAM,CAACU;AAFV,GAAP;AAID,CAlBD;;AAoBA,MAAMC,KAAN,SAAoB5G,KAAK,CAACI,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAyBjBe,MAzBiB,GAyBR,MACP,oBAAC,eAAD;AACE,MAAA,KAAK,EAAE,KAAKd,KAAL,CAAWsG,KADpB;AAEE,MAAA,QAAQ,EAAEA,KAAK,IAAI,KAAK1F,QAAL,CAAc;AAAE0F,QAAAA;AAAF,OAAd,CAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAJF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CAZF,EAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CApBF,EA4BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CA5BF,EAoCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CApCF,EA4CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CA5CF,EAoDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CApDF,CA1Be;;AAEjB,SAAKtG,KAAL,GAAa;AACXsG,MAAAA,KAAK,EAAEnG,KAAK,CAAC,GAAD,CAAL,CAAWC,IAAX,CAAgB,KAAhB;AADI,KAAb;AAGD,GANiC,CAQlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAmG,EAAAA,YAAY,CAAChG,CAAD,EAAI;AACd,WACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAGD;;AAxBiC;;AA0FpC,eAAeX,GAAf","sourcesContent":["import React from 'react';\nimport clone from \"clone\";\nimport PropTypes from \"prop-types\";\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [\n        {\n          squares: Array(9).fill(null)\n        }\n      ],\n      stepNumber: 0,\n    };\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n    squares[i] = this.state.xIsNext ? \"X\" : \"O\";\n    this.setState({\n      history: history.concat([\n        {\n          squares: squares\n        }\n      ]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext\n    });\n  }\n\n  render() {\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board\n            squares={current.squares}\n            onClick={i => this.handleClick(i)}\n          />\n        </div>\n        <div className=\"game-controls\">\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction Square(props) {\n  return (\n    <input className=\"square\">\n    </input>\n  );\n}\n\nclass TableDragSelect extends React.Component {\n  static propTypes = {\n    value: props => {\n      const error = new Error(\n        \"Invalid prop `value` supplied to `TableDragSelect`. Validation failed.\"\n      );\n      if (!Array.isArray(props.value)) {\n        return error;\n      }\n      if (props.value.length === 0) {\n        return;\n      }\n      const columnCount = props.value[0].length;\n      for (const row of props.value) {\n        if (!Array.isArray(row) || row.length !== columnCount) {\n          return error;\n        }\n        for (const cell of row) {\n          if (typeof cell !== \"boolean\") {\n            return error;\n          }\n        }\n      }\n    },\n    maxRows: PropTypes.number,\n    maxColumns: PropTypes.number,\n    onSelectionStart: PropTypes.func,\n    onInput: PropTypes.func,\n    onChange: PropTypes.func,\n    children: props => {\n      if (TableDragSelect.propTypes.value(props)) {\n        return; // Let error be handled elsewhere\n      }\n      const error = new Error(\n        \"Invalid prop `children` supplied to `TableDragSelect`. Validation failed.\"\n      );\n      const trs = React.Children.toArray(props.children);\n      const rowCount = props.value.length;\n      const columnCount = props.value.length === 0 ? 0 : props.value[0].length;\n      if (trs.length !== rowCount) {\n        return error;\n      }\n      for (const tr of trs) {\n        const tds = React.Children.toArray(tr.props.children);\n        if (tr.type !== \"tr\" || tds.length !== columnCount) {\n          return error;\n        }\n        for (const td of tds) {\n          if (td.type !== \"td\") {\n            return error;\n          }\n        }\n      }\n    }\n  };\n\n  static defaultProps = {\n    value: [],\n    maxRows: Infinity,\n    maxColumns: Infinity,\n    onSelectionStart: () => {},\n    onInput: () => {},\n    onChange: () => {}\n  };\n\n  state = {\n    selectionStarted: false,\n    startRow: null,\n    startColumn: null,\n    endRow: null,\n    endColumn: null,\n    addMode: null\n  };\n\n  componentDidMount = () => {\n    window.addEventListener(\"mouseup\", this.handleTouchEndWindow);\n    window.addEventListener(\"touchend\", this.handleTouchEndWindow);\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener(\"mouseup\", this.handleTouchEndWindow);\n    window.removeEventListener(\"touchend\", this.handleTouchEndWindow);\n  };\n\n  render = () => {\n    return (\n      <table className=\"table-drag-select\">\n        <tbody>{this.renderRows()}</tbody>\n      </table>\n    );\n  };\n\n  renderRows = () =>\n    React.Children.map(this.props.children, (tr, i) => {\n      return (\n        <tr key={i} {...tr.props}>\n          {React.Children.map(tr.props.children, (cell, j) => (\n            <Cell\n              key={j}\n              onTouchStart={this.handleTouchStartCell}\n              onTouchMove={this.handleTouchMoveCell}\n              selected={this.props.value[i][j]}\n              beingSelected={this.isCellBeingSelected(i, j)}\n              {...cell.props}\n            >\n              {cell.props.children}\n            </Cell>\n          ))}\n        </tr>\n      );\n    });\n\n  handleTouchStartCell = e => {\n    const isLeftClick = e.button === 0;\n    const isTouch = e.type !== \"mousedown\";\n    if (!this.state.selectionStarted && (isLeftClick || isTouch)) {\n      e.preventDefault();\n      const { row, column } = eventToCellLocation(e);\n      this.props.onSelectionStart({ row, column });\n      this.setState({\n        selectionStarted: true,\n        startRow: row,\n        startColumn: column,\n        endRow: row,\n        endColumn: column,\n        addMode: !this.props.value[row][column]\n      });\n    }\n  };\n\n  handleTouchMoveCell = e => {\n    if (this.state.selectionStarted) {\n      e.preventDefault();\n      const { row, column } = eventToCellLocation(e);\n      const { startRow, startColumn, endRow, endColumn } = this.state;\n\n      if (endRow !== row || endColumn !== column) {\n        const nextRowCount =\n          startRow === null && endRow === null\n            ? 0\n            : Math.abs(row - startRow) + 1;\n        const nextColumnCount =\n          startColumn === null && endColumn === null\n            ? 0\n            : Math.abs(column - startColumn) + 1;\n\n        if (nextRowCount <= this.props.maxRows) {\n          this.setState({ endRow: row });\n        }\n\n        if (nextColumnCount <= this.props.maxColumns) {\n          this.setState({ endColumn: column });\n        }\n      }\n    }\n  };\n\n  handleTouchEndWindow = e => {\n    const isLeftClick = e.button === 0;\n    const isTouch = e.type !== \"mousedown\";\n    if (this.state.selectionStarted && (isLeftClick || isTouch)) {\n      const value = clone(this.props.value);\n      const minRow = Math.min(this.state.startRow, this.state.endRow);\n      const maxRow = Math.max(this.state.startRow, this.state.endRow);\n      for (let row = minRow; row <= maxRow; row++) {\n        const minColumn = Math.min(\n          this.state.startColumn,\n          this.state.endColumn\n        );\n        const maxColumn = Math.max(\n          this.state.startColumn,\n          this.state.endColumn\n        );\n        for (let column = minColumn; column <= maxColumn; column++) {\n          value[row][column] = this.state.addMode;\n        }\n      }\n      this.setState({ selectionStarted: false });\n      this.props.onChange(value);\n    }\n  };\n\n  isCellBeingSelected = (row, column) => {\n    const minRow = Math.min(this.state.startRow, this.state.endRow);\n    const maxRow = Math.max(this.state.startRow, this.state.endRow);\n    const minColumn = Math.min(this.state.startColumn, this.state.endColumn);\n    const maxColumn = Math.max(this.state.startColumn, this.state.endColumn);\n\n    return (\n      this.state.selectionStarted &&\n      (row >= minRow &&\n        row <= maxRow &&\n        column >= minColumn &&\n        column <= maxColumn)\n    );\n  };\n}\n\nclass Cell extends React.Component {\n  // This optimization gave a 10% performance boost while drag-selecting\n  // cells\n  shouldComponentUpdate = nextProps =>\n    this.props.beingSelected !== nextProps.beingSelected ||\n    this.props.selected !== nextProps.selected;\n\n  componentDidMount = () => {\n    // We need to call addEventListener ourselves so that we can pass\n    // {passive: false}\n    this.td.addEventListener(\"touchstart\", this.handleTouchStart, {\n      passive: false\n    });\n    this.td.addEventListener(\"touchmove\", this.handleTouchMove, {\n      passive: false\n    });\n  };\n\n  componentWillUnmount = () => {\n    this.td.removeEventListener(\"touchstart\", this.handleTouchStart);\n    this.td.removeEventListener(\"touchmove\", this.handleTouchMove);\n  };\n\n  render = () => {\n    let {\n      className = \"\",\n      disabled,\n      beingSelected,\n      selected,\n      onTouchStart,\n      onTouchMove,\n      ...props\n    } = this.props;\n    if (disabled) {\n      className += \" cell-disabled\";\n    } else {\n      className += \" cell-enabled\";\n      if (selected) {\n        className += \" cell-selected\";\n      }\n      if (beingSelected) {\n        className += \" cell-being-selected\";\n      }\n    }\n    return (\n      <td\n        ref={td => (this.td = td)}\n        className={className}\n        onMouseDown={this.handleTouchStart}\n        onMouseMove={this.handleTouchMove}\n        {...props}\n      >\n        {this.props.children || <span>&nbsp;</span>}\n      </td>\n    );\n  };\n\n  handleTouchStart = e => {\n    if (!this.props.disabled) {\n      this.props.onTouchStart(e);\n    }\n  };\n\n  handleTouchMove = e => {\n    if (!this.props.disabled) {\n      this.props.onTouchMove(e);\n    }\n  };\n}\n\n// Takes a mouse or touch event and returns the corresponding row and cell.\n// Example:\n//\n// eventToCellLocation(event);\n// {row: 2, column: 3}\nconst eventToCellLocation = e => {\n  let target;\n  // For touchmove and touchend events, e.target and e.touches[n].target are\n  // wrong, so we have to rely on elementFromPoint(). For mouse clicks, we have\n  // to use e.target.\n  if (e.touches) {\n    const touch = e.touches[0];\n    target = document.elementFromPoint(touch.clientX, touch.clientY);\n  } else {\n    target = e.target;\n    while (target.tagName !== \"TD\") {\n      target = target.parentNode;\n    }\n  }\n  return {\n    row: target.parentNode.rowIndex,\n    column: target.cellIndex\n  };\n};\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cells: Array(225).fill(false),\n    };\n  }\n\n  // state = {\n  //   cells: [\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false],\n  //     [false, false, false, false, false, false]\n  //   ]\n  // };\n\n  renderSquare(i) {\n    return (\n      <Square/>\n    );\n  }\n\n    render = () =>\n      <TableDragSelect\n        value={this.state.cells}\n        onChange={cells => this.setState({ cells })}\n      >\n        <tr>\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n        </tr>\n        <tr>\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n        </tr>\n        <tr>\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n        </tr>\n        <tr>\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n        </tr>\n        <tr>\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n        </tr>\n        <tr>\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n        </tr>\n        <tr>\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n          <td />\n        </tr>\n      </TableDragSelect>;\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}